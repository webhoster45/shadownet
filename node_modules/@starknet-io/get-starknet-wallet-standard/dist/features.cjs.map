{"version":3,"file":"features.cjs","sources":["../src/features.ts"],"sourcesContent":["import type { RequestFn } from \"@starknet-io/types-js\";\nimport type { Wallet, WalletWithFeatures } from \"@wallet-standard/base\";\nimport {\n  StandardConnect,\n  type StandardConnectFeature,\n  StandardDisconnect,\n  type StandardDisconnectFeature,\n  StandardEvents,\n  type StandardEventsFeature,\n} from \"@wallet-standard/features\";\n\nexport const StarknetWalletApi = \"starknet:walletApi\";\n\nexport type StarknetWalletApiVersion = \"1.0.0\";\n\n/** A Wallet Standard feature for wallets that implement Starknet's wallet API. */\nexport type StarknetWalletRequestFeature = {\n  readonly [StarknetWalletApi]: {\n    readonly version: StarknetWalletApiVersion;\n    readonly request: RequestFn;\n    readonly walletVersion: string;\n    readonly id: string;\n  };\n};\n\nexport {\n  StandardConnect,\n  type StandardConnectFeature,\n  StandardDisconnect,\n  type StandardDisconnectFeature,\n  StandardEvents,\n  type StandardEventsChangeProperties,\n  type StandardEventsFeature,\n  type StandardEventsListeners,\n  type StandardEventsNames,\n  type StandardEventsOnMethod,\n  type StandardEventsVersion,\n} from \"@wallet-standard/features\";\n\nexport type StarknetFeatures = StarknetWalletRequestFeature &\n  StandardConnectFeature &\n  StandardDisconnectFeature &\n  StandardEventsFeature;\n\nexport type WalletWithStarknetFeatures = WalletWithFeatures<StarknetFeatures>;\n\nexport const RequiredStarknetFeatures = [\n  StarknetWalletApi,\n  StandardConnect,\n  StandardDisconnect,\n  StandardEvents,\n] as const satisfies (keyof StarknetFeatures)[];\n\n/** Check if a wallet is a Starknet wallet. */\nexport function isStarknetWallet(\n  wallet: Wallet,\n): wallet is WalletWithStarknetFeatures {\n  return RequiredStarknetFeatures.every(\n    (feature) => feature in wallet.features,\n  );\n}\n"],"names":["StandardConnect","StandardDisconnect","StandardEvents"],"mappings":";;;;AAWO,MAAM,iBAAoB,GAAA,qBAAA;AAmC1B,MAAM,wBAA2B,GAAA;AAAA,EACtC,iBAAA;AAAA,EACAA,wBAAA;AAAA,EACAC,2BAAA;AAAA,EACAC,uBAAA;AACF,EAAA;AAGO,SAAS,iBACd,MACsC,EAAA;AACtC,EAAA,OAAO,wBAAyB,CAAA,KAAA;AAAA,IAC9B,CAAC,OAAY,KAAA,OAAA,IAAW,MAAO,CAAA,QAAA;AAAA,GACjC,CAAA;AACF;;;;;;;;;"}